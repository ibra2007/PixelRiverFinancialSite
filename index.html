<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PiXELL-River Financial Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,500,600,700,900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    /* 1. GLOBAL SETTINGS */
    :root {
      --bg-color: #050810;
      --text-gold: #C4A78B;
      --text-dim: #5b6e82;
      --accent-blue: #233D8D;
      --font-serif: 'Playfair Display', serif;
      --font-sans: 'Space Grotesk', sans-serif;
    }

    * { box-sizing: border-box; }
    
    html, body {
      margin: 0; padding: 0;
      background-color: var(--bg-color);
      color: var(--text-gold);
      font-family: var(--font-serif);
      overflow-x: hidden;
      cursor: none;
    }

    /* SMOOTH SCROLL CONTAINER (Lenis) */
    html.lenis { height: auto; }
    .lenis.lenis-smooth { scroll-behavior: auto; }
    .lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
    .lenis.lenis-stopped { overflow: hidden; }

    /* --- 1. CUSTOM CURSOR --- */
    .cursor-ball {
      position: fixed; top: 0; left: 0;
      width: 12px; height: 12px;
      background: var(--text-gold);
      border-radius: 50%;
      pointer-events: none; z-index: 9999;
      transform: translate(-50%, -50%);
      transition: width 0.3s, height 0.3s, background 0.3s;
      mix-blend-mode: difference;
    }
    .cursor-outline {
      position: fixed; top: 0; left: 0;
      width: 50px; height: 50px;
      border: 1px solid rgba(196, 167, 139, 0.3);
      border-radius: 50%;
      pointer-events: none; z-index: 9998;
      transform: translate(-50%, -50%);
      transition: all 0.1s ease-out;
    }
    body.hovering .cursor-ball { width: 40px; height: 40px; opacity: 0.5; background: var(--accent-blue); }
    body.hovering .cursor-outline { transform: translate(-50%, -50%) scale(1.5); border-color: var(--accent-blue); }

    /* --- 2. PRELOADER --- */
    .preloader {
      position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
      background: #000; z-index: 10000;
      display: flex; justify-content: center; align-items: center;
      flex-direction: column;
    }
    .counter {
      font-family: var(--font-sans); font-size: 8vw; color: var(--text-gold);
      font-weight: 300; opacity: 0;
    }
    .loading-bar {
      position: absolute; bottom: 0; left: 0; height: 2px; width: 0%;
      background: var(--accent-blue);
    }

    /* --- 3. BACKGROUND VIDEO & NOISE --- */
    .noise-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none; z-index: 5; opacity: 0.04;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E");
    }
    .bg-video-wrap {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: -1; overflow: hidden; opacity: 0.6;
    }
    .bg-video-wrap video {
      width: 100%; height: 100%; object-fit: cover;
    }
    .bg-gradient {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: radial-gradient(circle at center, transparent 0%, #050810 90%);
      z-index: 0;
    }

    /* --- 4. NAVIGATION --- */
    .nav-top {
      position: fixed; top: 0; left: 0; width: 100%; padding: 40px;
      display: flex; justify-content: space-between; align-items: flex-start;
      z-index: 100; mix-blend-mode: difference;
      pointer-events: none; /* Allow clicks to pass through header space */
    }
    .logo, .menu-trigger { pointer-events: auto; } /* Re-enable clicks */

    .logo {
      font-family: var(--font-sans); font-weight: 700; letter-spacing: 2px;
      text-transform: uppercase; color: #fff; text-decoration: none;
      font-size: 14px;
    }
    .menu-trigger {
      font-family: var(--font-sans); font-size: 12px; letter-spacing: 1px;
      text-transform: uppercase; color: #fff; cursor: none;
      border: 1px solid rgba(255,255,255,0.2); padding: 10px 25px;
      border-radius: 50px; background: transparent;
      transition: all 0.3s;
    }
    .menu-trigger:hover { background: #fff; color: #000; }

    .full-screen-menu {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
      background: #0b0b0b; z-index: 999;
      transform: translateY(-100%); transition: transform 0.8s cubic-bezier(0.77, 0, 0.175, 1);
      display: flex; flex-direction: column; justify-content: center; align-items: center;
    }
    .full-screen-menu.active { transform: translateY(0); }
    .menu-item {
      font-family: var(--font-serif); font-size: 6vw; color: rgba(255,255,255,0.3);
      text-decoration: none; margin: 10px 0; transition: color 0.3s, transform 0.3s;
      cursor: none;
    }
    .menu-item:hover { color: var(--text-gold); transform: skewX(-5deg); }
    .menu-close {
      position: absolute; top: 40px; right: 40px;
      font-family: var(--font-sans); color: #fff; cursor: none;
      background: transparent; border: none; font-size: 14px; letter-spacing: 2px;
    }

    /* --- 5. HERO SECTION --- */
    .hero-section {
      height: 100vh; width: 100%; position: relative;
      display: flex; flex-direction: column; justify-content: center; align-items: center;
      perspective: 1000px;
      pointer-events: none; /* Allows click through */
    }
    
    /* Interactive elements inside hero need auto pointer events */
    .hero-title, .hero-subtitle, .scroll-indicator { pointer-events: auto; }

    .hero-title {
      font-size: 15vw; line-height: 0.85; text-transform: uppercase;
      color: var(--text-gold); opacity: 0; /* Animated in JS */
      text-align: center; mix-blend-mode: overlay;
    }
    .hero-subtitle {
      margin-top: 30px; font-family: var(--font-sans);
      letter-spacing: 0.3em; font-size: 1rem; color: #fff;
      opacity: 0; text-transform: uppercase;
    }
    
    .scroll-indicator {
      position: absolute; bottom: 50px;
      display: flex; flex-direction: column; align-items: center; gap: 10px;
      cursor: none;
      z-index: 50;
    }
    .scroll-text { font-family: var(--font-sans); font-size: 10px; letter-spacing: 2px; }
    .scroll-line { width: 1px; height: 60px; background: rgba(196, 167, 139, 0.5); }

    /* DIVE DEEPER BUTTON */
    .dive-btn {
      position: absolute; bottom: 120px; /* Above scroll line */
      font-family: var(--font-sans); font-size: 11px; letter-spacing: 3px;
      color: #fff; padding: 15px 30px; border: 1px solid rgba(255,255,255,0.3);
      border-radius: 50px; cursor: none; pointer-events: auto; z-index: 100;
      background: rgba(0,0,0,0.3); backdrop-filter: blur(5px);
      transition: all 0.3s; text-transform: uppercase;
    }
    .dive-btn:hover { background: #fff; color: #000; }

    /* --- 6. SECTIONS --- */
    .marquee-container {
      padding: 100px 0; overflow: hidden; white-space: nowrap;
      border-top: 1px solid rgba(196, 167, 139, 0.1);
      border-bottom: 1px solid rgba(196, 167, 139, 0.1);
    }
    .marquee-text {
      font-size: 8vw; font-family: var(--font-serif); color: rgba(255,255,255,0.05);
      display: inline-block; padding-right: 50px;
    }

    .grid-section {
      padding: 150px 5vw; max-width: 1600px; margin: 0 auto;
      display: grid; grid-template-columns: 1.5fr 1fr; gap: 100px;
      align-items: center;
    }
    .card-wrap { position: relative; }
    
    .img-container {
      width: 100%; padding-bottom: 60%; 
      position: relative; overflow: hidden; border-radius: 4px;
      cursor: none;
      /* FIX FOR DISAPPEARING IMAGE */
      transform: translateZ(0); 
      -webkit-transform: translateZ(0);
    }
    .meme-container { padding-bottom: 100%; } 
    
    .parallax-img {
      position: absolute; top: 0; left: 0; width: 100%; height: 120%;
      object-fit: cover; filter: grayscale(100%);
      transition: filter 0.5s ease;
      will-change: transform; /* Hint to browser to keep it rendered */
    }
    .card-wrap:hover .parallax-img { filter: grayscale(0%); }

    .card-content {
      padding-top: 30px; border-left: 1px solid var(--accent-blue);
      padding-left: 30px; margin-left: 20px;
    }
    .tag {
      font-family: var(--font-sans); font-size: 10px; letter-spacing: 2px;
      text-transform: uppercase; color: var(--accent-blue); display: block; margin-bottom: 10px;
    }
    .card-title {
      font-size: 3rem; margin: 0; color: #fff; font-weight: 400;
    }
    .card-meta {
      margin-top: 15px; font-family: var(--font-sans); font-size: 12px; color: var(--text-dim);
    }

    /* --- 7. FOOTER --- */
    footer {
      padding: 100px 5vw 50px 5vw; border-top: 1px solid rgba(255,255,255,0.1);
      background: #020305;
    }
    .footer-grid {
      display: grid; grid-template-columns: 2fr 1fr 1fr 1.5fr; gap: 60px;
      margin-bottom: 100px;
    }
    .footer-col h4 {
      font-family: var(--font-sans); font-size: 12px; letter-spacing: 2px;
      color: #fff; text-transform: uppercase; margin-bottom: 30px; opacity: 0.5;
    }
    .footer-links li { list-style: none; margin-bottom: 15px; }
    .footer-links a {
      color: var(--text-dim); text-decoration: none; font-family: var(--font-sans);
      font-size: 14px; transition: color 0.3s; cursor: none;
    }
    .footer-links a:hover { color: var(--text-gold); }

    .input-group { position: relative; margin-top: 20px; }
    .clean-input {
      width: 100%; background: transparent; border: none;
      border-bottom: 1px solid rgba(255,255,255,0.2);
      padding: 15px 0; color: #fff; font-family: var(--font-sans);
      outline: none; transition: border-color 0.3s;
    }
    .clean-input:focus { border-color: var(--text-gold); }
    .submit-arrow {
      position: absolute; right: 0; top: 15px;
      background: none; border: none; color: var(--text-gold);
      text-transform: uppercase; font-size: 12px; letter-spacing: 2px;
      cursor: none;
    }

    .copy-row {
      display: flex; justify-content: space-between; align-items: flex-end;
      font-family: var(--font-sans); font-size: 12px; color: rgba(255,255,255,0.2);
    }

    /* --- 8. MODALS --- */
    .modal {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.9); z-index: 20000;
      display: none; justify-content: center; align-items: center;
      opacity: 0; transition: opacity 0.5s;
    }
    .modal.open { display: flex; opacity: 1; }
    .modal-content { width: 80%; max-width: 1000px; position: relative; }
    .modal-close {
      position: absolute; top: -50px; right: 0; color: #fff;
      font-family: var(--font-sans); cursor: none; letter-spacing: 2px;
    }
    .responsive-iframe {
      position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;
    }
    .responsive-iframe iframe {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    }
    .meme-full { width: 100%; height: auto; border-radius: 8px; }

    @media(max-width: 900px) {
      .grid-section { grid-template-columns: 1fr; gap: 50px; }
      .footer-grid { grid-template-columns: 1fr; gap: 40px; }
      .hero-title { font-size: 20vw; }
      .cursor-ball, .cursor-outline { display: none; }
      html, body { cursor: auto; }
    }
  </style>
</head>
<body>

  <div class="preloader">
    <div class="counter">0%</div>
    <div class="loading-bar"></div>
  </div>

  <div class="cursor-ball"></div>
  <div class="cursor-outline"></div>

  <nav class="nav-top">
    <a href="#" class="logo hover-target">PiXELL-River</a>
    <button class="menu-trigger hover-target" onclick="toggleMenu()">Menu</button>
  </nav>

  <div class="full-screen-menu" id="fsMenu">
    <button class="menu-close hover-target" onclick="toggleMenu()">Close</button>
    <a href="index.html" class="menu-item hover-target">Home</a>
    <a href="about.html" class="menu-item hover-target">Vision</a>
    <a href="dashboard.html" class="menu-item hover-target">Ledger</a>
    <a href="login.html" class="menu-item hover-target">Login</a>
  </div>

  <div class="noise-overlay"></div>
  <div class="bg-gradient"></div>
  <div class="bg-video-wrap">
    <video autoplay muted loop playsinline>
      <source src="MoneyBG.mp4" type="video/mp4">
    </video>
  </div>

  <section class="hero-section">
    <h1 class="hero-title">PiXELL<br><span style="color:#fff;">River</span></h1>
    <p class="hero-subtitle">Secure Financial Architecture</p>
    
    <button class="dive-btn hover-target" onclick="scrollToGrid()">
      DIVE DEEPER
    </button>

    <div class="scroll-indicator hover-target" onclick="scrollToGrid()">
      <span class="scroll-text">SCROLL</span>
      <div class="scroll-line"></div>
    </div>
  </section>

  <div class="marquee-container">
    <div class="marquee-wrapper">
      <span class="marquee-text">STRATEGY &nbsp; WEALTH &nbsp; SECURITY &nbsp; FUTURE &nbsp; STRATEGY &nbsp; WEALTH &nbsp; SECURITY &nbsp; FUTURE &nbsp;</span>
      <span class="marquee-text">STRATEGY &nbsp; WEALTH &nbsp; SECURITY &nbsp; FUTURE &nbsp; STRATEGY &nbsp; WEALTH &nbsp; SECURITY &nbsp; FUTURE &nbsp;</span>
    </div>
  </div>

  <section class="grid-section" id="editorialGrid">
    
    <div class="card-wrap hover-target" onclick="openModal('video')">
      <div class="img-container">
        <img class="parallax-img" src="https://img.youtube.com/vi/vJabNEwZIuc/maxresdefault.jpg" alt="Strategy">
      </div>
      <div class="card-content">
        <span class="tag">01 / Analysis</span>
        <h2 class="card-title">Strategic Wealth</h2>
        <div class="card-meta"><i class="fa-regular fa-clock"></i> 4:30 &nbsp;|&nbsp; 12k Views</div>
      </div>
    </div>

    <div class="card-wrap hover-target" onclick="openModal('meme')" style="margin-top: 150px;">
      <div class="img-container meme-container">
        <img class="parallax-img" src="cat.png" alt="Market Pulse">
      </div>
      <div class="card-content">
        <span class="tag">02 / Culture</span>
        <h2 class="card-title">Market Pulse</h2>
        <div class="card-meta">#CommunityInsight</div>
      </div>
    </div>

  </section>

  <footer>
    <div class="footer-grid">
      <div class="footer-col">
        <h2 style="color: #fff; font-size: 2rem; margin:0;">PiXELL-River</h2>
        <p style="color: var(--text-dim); margin-top: 20px; max-width: 300px;">
          The intersection of digital precision and capital growth.
        </p>
      </div>

      <div class="footer-col">
        <h4>Locations</h4>
        <ul class="footer-links">
          <li><a href="locations.html?city=zurich" class="hover-target">ZÃ¼rich, CH</a></li>
          <li><a href="locations.html?city=london" class="hover-target">London, UK</a></li>
          <li><a href="locations.html?city=sg" class="hover-target">Singapore, SG</a></li>
          <li><a href="locations.html?city=ny" class="hover-target">New York, USA</a></li>
          <li><a href="locations.html?city=tokyo" class="hover-target">Tokyo, Japan</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Company</h4>
        <ul class="footer-links">
          <li><a href="about.html" class="hover-target">Our Vision</a></li>
          <li><a href="dashboard.html" class="hover-target">Client Portal</a></li>
          <li><a href="career.html" class="hover-target">Careers</a></li>
          <li><a href="login.html" class="hover-target">Login</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>The Ledger</h4>
        <p style="font-size: 12px; color: var(--text-dim);">Join the secure network.</p>
        
        <form id="newsletterForm" method="POST">
          <input type="hidden" name="_next" id="redirectInput" value=""> 
          <input type="hidden" name="_template" value="table">
          <input type="hidden" name="_subject" value="ACCESS GRANTED: PiXELL-River Ledger">
          <input type="hidden" name="System_Node" value="Zurich-Alpha-09">
          <input type="hidden" name="Message" value="You have been added to the ledger.">
          <input type="hidden" name="_captcha" value="false">

          <div class="input-group">
            <input type="email" id="emailInput" name="email" class="clean-input hover-target" placeholder="Email Address" required>
            <button type="submit" class="submit-arrow hover-target">JOIN</button>
          </div>
        </form>
      </div>
    </div>

    <div class="copy-row">
      <span>&copy; 2025 PiXELL-River.</span>
      <span class="student-credits">Dev: Anel Ibrahimovic Milas</span>
    </div>
  </footer>

  <div class="modal" id="videoModal">
    <div class="modal-content">
      <div class="modal-close hover-target" onclick="closeModals()">CLOSE [X]</div>
      <div class="responsive-iframe">
        <iframe id="youtubeFrame" src="https://www.youtube.com/embed/vJabNEwZIuc" frameborder="0" allowfullscreen></iframe>
      </div>
    </div>
  </div>

  <div class="modal" id="memeModal">
    <div class="modal-content">
      <div class="modal-close hover-target" onclick="closeModals()">CLOSE [X]</div>
      <img src="cat.png" class="meme-full" alt="Meme">
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://unpkg.com/lenis@1.0.19/dist/lenis.min.js"></script>

  <script>
    // 1. INITIALIZE LENIS
    const lenis = new Lenis({
      duration: 1.2,
      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
      smooth: true
    });
    function raf(time) {
      lenis.raf(time);
      requestAnimationFrame(raf);
    }
    requestAnimationFrame(raf);

    // 2. CONNECT LENIS TO GSAP (FIX FOR DISAPPEARING IMAGES)
    gsap.registerPlugin(ScrollTrigger);
    
    // This allows ScrollTrigger to work perfectly with smooth scrolling
    lenis.on('scroll', ScrollTrigger.update);
    gsap.ticker.add((time) => {
      lenis.raf(time * 1000);
    });
    gsap.ticker.lagSmoothing(0);

    // 3. FORCE REFRESH ON LOAD (Fix for Back Button/Cache issues)
    window.addEventListener('load', () => {
      ScrollTrigger.refresh();
    });
    // Fix for "back button" browser cache
    window.addEventListener('pageshow', (event) => {
      if (event.persisted) {
        ScrollTrigger.refresh();
      }
    });

    // 4. ANIMATIONS
    const counter = document.querySelector('.counter');
    let count = 0;
    const interval = setInterval(() => {
      count++;
      counter.innerText = count + "%";
      document.querySelector('.loading-bar').style.width = count + "%";
      if(count === 100) {
        clearInterval(interval);
        gsap.to('.preloader', { y: '-100%', duration: 1, ease: 'power4.inOut', delay: 0.2 });
        revealHero();
      }
    }, 20);

    function revealHero() {
      gsap.to('.hero-title', { opacity: 1, y: 0, duration: 1.5, ease: 'power3.out', delay: 0.5 });
      gsap.to('.hero-subtitle', { opacity: 1, duration: 1.5, delay: 0.8 });
    }

    gsap.utils.toArray('.card-wrap').forEach(card => {
      const img = card.querySelector('.parallax-img');
      gsap.to(img, {
        y: '20%', 
        ease: 'none',
        scrollTrigger: {
          trigger: card,
          scrub: true
        }
      });
    });

    gsap.to(".marquee-text", {
      xPercent: -50,
      ease: "none",
      scrollTrigger: {
        trigger: ".marquee-container",
        start: "top bottom",
        end: "bottom top",
        scrub: 1
      }
    });

    // 5. CURSOR
    const ball = document.querySelector('.cursor-ball');
    const outline = document.querySelector('.cursor-outline');
    
    document.addEventListener('mousemove', e => {
      gsap.to(ball, { x: e.clientX, y: e.clientY, duration: 0.1 });
      gsap.to(outline, { x: e.clientX, y: e.clientY, duration: 0.15 });
    });

    document.querySelectorAll('.hover-target').forEach(el => {
      el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
      el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
    });

    // 6. LOGIC
    function scrollToGrid() {
      const section = document.getElementById('editorialGrid');
      // Use Lenis for smooth scroll instead of default
      lenis.scrollTo(section);
    }

    const nextInput = document.getElementById('redirectInput');
    if(nextInput) {
      const currentUrl = window.location.href;
      const baseUrl = currentUrl.substring(0, currentUrl.lastIndexOf('/') + 1);
      nextInput.value = baseUrl + "thankyou.html";
    }

    document.getElementById('newsletterForm').addEventListener('submit', function(e) {
      const emailInput = document.getElementById('emailInput');
      this.action = "https://formsubmit.co/" + emailInput.value;
    });

    function openModal(type) {
      if(type === 'video') document.getElementById('videoModal').classList.add('open');
      if(type === 'meme') document.getElementById('memeModal').classList.add('open');
    }
    function closeModals() {
      document.querySelectorAll('.modal').forEach(m => m.classList.remove('open'));
      const iframe = document.getElementById('youtubeFrame');
      if(iframe) { const url = iframe.src; iframe.src = ''; iframe.src = url; }
    }

    function toggleMenu() {
      document.getElementById('fsMenu').classList.toggle('active');
    }
  </script>
</body>
</html>