<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Client Vault - PiXELL-River</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,600,700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    /* 1. GLOBAL SETTINGS */
    html { scroll-behavior: smooth; cursor: none; }
    
    ::-webkit-scrollbar { width: 3px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #9E7F63; opacity: 0.8; }

    ::selection { background: #233D8D; color: #fff; }

    html, body {
      margin: 0; padding: 0;
      font-family: 'Playfair Display', serif;
      color: #9E7F63; 
      background: linear-gradient(to bottom, #0f172a 0%, #050810 100%);
      min-height: 100vh;
    }

    /* --- TEXTURE --- */
    .noise-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none; z-index: 8000; opacity: 0.06; 
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E");
    }

    /* --- CURSOR --- */
    .cursor-dot, .cursor-outline {
      position: fixed; top: 0; left: 0;
      transform: translate(-50%, -50%);
      border-radius: 50%; z-index: 200000; pointer-events: none;
    }
    .cursor-dot { width: 8px; height: 8px; background-color: #f8d9bc; }
    .cursor-outline {
      width: 40px; height: 40px;
      border: 1px solid rgba(248, 217, 188, 0.5);
      transition: width 0.2s, height 0.2s, background-color 0.2s;
    }
    body.hovering .cursor-outline {
      width: 70px; height: 70px;
      background-color: rgba(248, 217, 188, 0.1);
      border-color: transparent; backdrop-filter: blur(2px);
    }

    /* --- NAVIGATION --- */
    .nav-bar {
      position: fixed; top: 40px; right: 40px; z-index: 9000;
      display: flex; gap: 20px; align-items: center;
    }
    .nav-btn {
      background: transparent; border: 1px solid rgba(158, 127, 99, 0.3);
      color: #f8d9bc; padding: 10px 20px; border-radius: 50px;
      text-transform: uppercase; font-size: 0.8em; letter-spacing: 0.15em;
      cursor: none; transition: all 0.3s; text-decoration: none;
    }
    .nav-btn:hover { background: #9E7F63; color: #000; }
    .logout-btn:hover { background: #233D8D; color: #fff; border-color: #233D8D; }

    .logo-mark {
      position: fixed; top: 30px; left: 40px; z-index: 9000;
      font-size: 1.5em; color: #fff; letter-spacing: 0.1em;
      cursor: none;
    }

    /* --- DASHBOARD LAYOUT --- */
    .dashboard-container {
      max-width: 1400px; margin: 0 auto; padding: 120px 40px 50px 40px;
      position: relative; z-index: 10;
    }

    /* HEADER */
    .welcome-header {
      display: flex; justify-content: space-between; align-items: flex-end;
      margin-bottom: 40px; opacity: 0; animation: fadeUp 1s ease forwards 0.5s;
    }
    .sub-label { font-family: 'Inter', sans-serif; font-size: 0.8em; color: #233D8D; text-transform: uppercase; letter-spacing: 0.2em; }
    .user-name { font-size: 3.5vw; color: #fff; margin: 10px 0 0 0; line-height: 1; }
    .date-display { font-family: 'Inter', sans-serif; color: #666; font-size: 0.9em; }

    /* ADVANCED BENTO GRID */
    .bento-grid {
      display: grid; 
      /* 3 Columns: Chart (Wide), Transfer (Medium), Card (Narrow) */
      grid-template-columns: 1.8fr 1fr 1fr; 
      grid-template-rows: auto auto;
      gap: 25px;
    }

    /* Glass Panel Styling */
    .glass-panel {
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid rgba(158, 127, 99, 0.15);
      border-radius: 8px; padding: 30px;
      backdrop-filter: blur(10px);
      opacity: 0; transform: translateY(30px);
      transition: transform 0.3s, border-color 0.3s;
      display: flex; flex-direction: column;
    }
    .glass-panel.visible { opacity: 1; transform: translateY(0); }
    .glass-panel:hover { border-color: #233D8D; }

    /* WIDGET 1: PERFORMANCE CHART */
    .chart-widget { grid-column: 1 / 2; grid-row: 1 / 2; position: relative; overflow: hidden; }
    .balance-label { font-family: 'Inter', sans-serif; color: #888; font-size: 0.8em; text-transform: uppercase; letter-spacing: 0.1em; }
    .balance-amount { font-size: 3em; color: #fff; margin: 5px 0 20px 0; }
    
    /* The SVG Chart */
    .chart-container { width: 100%; height: 120px; position: relative; }
    svg { width: 100%; height: 100%; overflow: visible; }
    .chart-line { 
      fill: none; stroke: #233D8D; stroke-width: 3; 
      filter: drop-shadow(0 0 8px rgba(35, 61, 141, 0.6));
      stroke-dasharray: 1000; stroke-dashoffset: 1000;
      animation: drawLine 2s ease forwards 1s;
    }
    .chart-area { 
      fill: url(#gradient); opacity: 0.3; 
      transform-origin: bottom; transform: scaleY(0);
      animation: growArea 2s ease forwards 1s;
    }

    /* WIDGET 2: QUICK TRANSFER (Interactive) */
    .transfer-widget { grid-column: 2 / 3; justify-content: space-between; }
    .widget-head { color: #fff; font-size: 1.1em; margin-bottom: 15px; }
    
    .recipient-row { display: flex; gap: 10px; margin-bottom: 20px; }
    .avatar { width: 40px; height: 40px; border-radius: 50%; background: #333; display: flex; justify-content: center; align-items: center; color: #fff; font-family: sans-serif; font-size: 0.8em; cursor: none; transition: all 0.2s; border: 1px solid transparent; }
    .avatar:hover, .avatar.active { border-color: #4cd137; background: rgba(76, 209, 55, 0.1); }
    
    .amount-slider-container { margin-top: auto; }
    .amount-display { font-size: 2em; color: #fff; margin-bottom: 10px; font-family: 'Inter', monospace; }
    
    /* Custom Range Slider */
    input[type=range] {
      -webkit-appearance: none; width: 100%; background: transparent;
    }
    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none; height: 16px; width: 16px; border-radius: 50%;
      background: #9E7F63; cursor: none; margin-top: -7px;
      box-shadow: 0 0 10px #9E7F63;
    }
    input[type=range]::-webkit-slider-runnable-track {
      width: 100%; height: 2px; background: rgba(255,255,255,0.2);
    }
    .send-btn {
      width: 100%; padding: 12px; margin-top: 15px;
      background: #233D8D; color: #fff; border: none; border-radius: 4px;
      text-transform: uppercase; letter-spacing: 0.1em; font-size: 0.8em; cursor: none;
      transition: background 0.3s;
    }
    .send-btn:hover { background: #1a2e6e; }

    /* WIDGET 3: CREDIT CARD */
    .card-widget { grid-column: 3 / 4; grid-row: 1 / 2; padding: 0; border: none; background: transparent; }
    .sapphire-card {
      width: 100%; height: 100%;
      border-radius: 12px;
      background: linear-gradient(135deg, #233D8D 0%, #0a1229 100%);
      position: relative; overflow: hidden;
      padding: 25px; box-sizing: border-box;
      display: flex; flex-direction: column; justify-content: space-between;
      box-shadow: 0 20px 50px rgba(35, 61, 141, 0.3);
      transition: transform 0.5s ease;
    }
    .sapphire-card:hover { transform: rotateY(10deg) rotateX(5deg); }
    .card-chip { width: 40px; height: 30px; background: linear-gradient(to bottom right, #d4af37, #f2d06b); border-radius: 4px; margin-bottom: 20px; }
    .card-number { font-family: 'Inter', monospace; font-size: 1.1em; letter-spacing: 0.15em; color: rgba(255,255,255,0.8); }
    .card-details { display: flex; justify-content: space-between; color: rgba(255,255,255,0.6); font-family: 'Inter', sans-serif; font-size: 0.7em; text-transform: uppercase; }
    .sapphire-card::before {
      content: ""; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
      background: linear-gradient(to right, transparent, rgba(255,255,255,0.1), transparent);
      transform: rotate(45deg); animation: shine 6s infinite; pointer-events: none;
    }

    /* WIDGET 4: TRANSACTIONS (Full Width Bottom Left) */
    .ledger-widget { grid-column: 1 / 3; grid-row: 2 / 3; }
    .transaction-row {
      display: flex; justify-content: space-between; align-items: center;
      padding: 15px 0; border-bottom: 1px solid rgba(158, 127, 99, 0.1);
      font-family: 'Inter', sans-serif; transition: background 0.2s;
    }
    .transaction-row:hover { background: rgba(255,255,255,0.03); padding-left: 10px; padding-right: 10px; }
    .t-info { display: flex; gap: 15px; align-items: center; }
    .t-icon { width: 35px; height: 35px; border-radius: 50%; background: rgba(255,255,255,0.05); display: flex; justify-content: center; align-items: center; color: #9E7F63; }
    .t-name { color: #fff; font-weight: 500; font-size: 0.95em; }
    .t-date { font-size: 0.8em; color: #666; }
    .t-amount { color: #fff; font-weight: 600; }
    .t-amount.neg { color: #fff; }
    .t-amount.pos { color: #4cd137; }

    /* WIDGET 5: ASSET ALLOCATION (Bottom Right) */
    .assets-widget { grid-column: 3 / 4; grid-row: 2 / 3; }
    .asset-row { margin-bottom: 20px; }
    .asset-head { display: flex; justify-content: space-between; font-family: 'Inter', sans-serif; font-size: 0.85em; color: #ccc; margin-bottom: 5px; }
    .progress-track { width: 100%; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden; }
    .progress-fill { height: 100%; background: #9E7F63; border-radius: 2px; width: 0; transition: width 1.5s ease-out; }
    .fill-blue { background: #233D8D; }
    .fill-green { background: #218c74; }

    @keyframes drawLine { to { stroke-dashoffset: 0; } }
    @keyframes growArea { to { transform: scaleY(1); } }
    @keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }
    @keyframes shine { 0% { transform: translateX(-100%) rotate(45deg); } 100% { transform: translateX(100%) rotate(45deg); } }

    @media (max-width: 1000px) {
      .bento-grid { grid-template-columns: 1fr 1fr; }
      .card-widget { grid-column: 2 / 3; grid-row: 1 / 2; }
      .chart-widget { grid-column: 1 / 2; }
      .transfer-widget { grid-column: 1 / 3; grid-row: 2 / 3; }
      .ledger-widget { grid-column: 1 / 3; grid-row: 3 / 4; }
      .assets-widget { grid-column: 1 / 3; grid-row: 4 / 5; }
    }
    @media (max-width: 600px) {
      .bento-grid { grid-template-columns: 1fr; }
      .card-widget, .chart-widget, .transfer-widget, .ledger-widget, .assets-widget { grid-column: 1 / 2; grid-row: auto; }
      .user-name { font-size: 8vw; }
    }
  </style>
</head>
<body>

  <div class="noise-overlay"></div>
  
  <div class="cursor-dot" data-cursor-dot></div>
  <div class="cursor-outline" data-cursor-outline></div>

  <div class="logo-mark hover-trigger" onclick="window.location.href='index.html'">PiXELL</div>
  
  <div class="nav-bar">
    <a href="index.html" class="nav-btn hover-trigger">Return Home</a>
    <button class="nav-btn logout-btn hover-trigger" onclick="handleLogout()">Log Out</button>
  </div>

  <div class="dashboard-container">
    
    <div class="welcome-header">
      <div>
        <div class="sub-label">Client Portal</div>
        <h1 class="user-name" id="displayName">Welcome, User</h1>
      </div>
      <div class="date-display" id="dateDisplay">October 24, 2025</div>
    </div>

    <div class="bento-grid">
      
      <div class="glass-panel chart-widget visible hover-trigger" style="transition-delay: 0.1s;">
        <div class="balance-label">Total Net Liquidity</div>
        <div class="balance-amount">$2,845,090.00</div>
        
        <div class="chart-container">
          <svg preserveAspectRatio="none">
            <defs>
              <linearGradient id="gradient" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#233D8D;stop-opacity:0.5" />
                <stop offset="100%" style="stop-color:#233D8D;stop-opacity:0" />
              </linearGradient>
            </defs>
            <path class="chart-area" d="M0,100 L0,50 Q50,20 100,50 T200,40 T300,10 L300,100 Z" />
            <path class="chart-line" d="M0,50 Q50,20 100,50 T200,40 T300,10" vector-effect="non-scaling-stroke" />
          </svg>
        </div>
      </div>

      <div class="glass-panel transfer-widget visible hover-trigger" style="transition-delay: 0.2s;">
        <div class="widget-head">Quick Transfer</div>
        <div class="recipient-row">
          <div class="avatar hover-trigger active">JS</div>
          <div class="avatar hover-trigger">WK</div>
          <div class="avatar hover-trigger"><i class="fa-solid fa-plus"></i></div>
        </div>
        <div class="amount-slider-container">
          <div class="amount-display" id="amountValue">$500</div>
          <input type="range" min="100" max="10000" step="100" value="500" class="hover-trigger" oninput="updateAmount(this.value)">
          <button class="send-btn hover-trigger">Initiate Transfer</button>
        </div>
      </div>

      <div class="card-widget glass-panel visible hover-trigger" style="transition-delay: 0.3s; border:none; background:transparent;">
        <div class="sapphire-card">
          <div class="card-top">
            <div class="card-chip"></div>
            <i class="fa-brands fa-cc-visa" style="font-size: 2em; color: rgba(255,255,255,0.5);"></i>
          </div>
          <div class="card-number">•••• •••• •••• 4921</div>
          <div class="card-details">
            <span>PiXELL Black</span>
            <span>09/29</span>
          </div>
        </div>
      </div>

      <div class="glass-panel ledger-widget visible hover-trigger" style="transition-delay: 0.4s;">
        <div class="widget-head">Recent Activity</div>
        <div class="transaction-row">
          <div class="t-info">
            <div class="t-icon"><i class="fa-solid fa-briefcase"></i></div>
            <div>
              <div class="t-name">Consulting Deposit</div>
              <div class="t-date">Today, 10:42 AM</div>
            </div>
          </div>
          <div class="t-amount pos">+$12,500.00</div>
        </div>
        <div class="transaction-row">
          <div class="t-info">
            <div class="t-icon"><i class="fa-solid fa-plane"></i></div>
            <div>
              <div class="t-name">Emirates Airlines</div>
              <div class="t-date">Yesterday</div>
            </div>
          </div>
          <div class="t-amount neg">-$4,230.00</div>
        </div>
        <div class="transaction-row">
          <div class="t-info">
            <div class="t-icon"><i class="fa-solid fa-gem"></i></div>
            <div>
              <div class="t-name">Cartier Boutique</div>
              <div class="t-date">Oct 24</div>
            </div>
          </div>
          <div class="t-amount neg">-$8,150.00</div>
        </div>
      </div>

      <div class="glass-panel assets-widget visible hover-trigger" style="transition-delay: 0.5s;">
        <div class="widget-head">Portfolio Allocation</div>
        
        <div class="asset-row">
          <div class="asset-head"><span>Equities</span><span>45%</span></div>
          <div class="progress-track"><div class="progress-fill fill-blue" style="width: 45%"></div></div>
        </div>
        
        <div class="asset-row">
          <div class="asset-head"><span>Real Estate</span><span>30%</span></div>
          <div class="progress-track"><div class="progress-fill" style="width: 30%"></div></div>
        </div>

        <div class="asset-row">
          <div class="asset-head"><span>Crypto / Alt</span><span>15%</span></div>
          <div class="progress-track"><div class="progress-fill fill-green" style="width: 15%"></div></div>
        </div>

        <div class="asset-row">
          <div class="asset-head"><span>Cash</span><span>10%</span></div>
          <div class="progress-track"><div class="progress-fill" style="width: 10%; opacity: 0.5;"></div></div>
        </div>
      </div>

    </div>
  </div>

 <script>
    // 1. Auth & Date
    window.addEventListener("load", () => {
      document.getElementById("preloader").classList.add("loaded");
      
      // CHECK ACTIVE SESSION
      const activeUser = JSON.parse(localStorage.getItem('pixellActiveUser'));
      
      if (activeUser) {
        // Display the name of the person who is actually logged in
        document.getElementById('displayName').innerText = `Welcome, ${activeUser.name}`;
      } else {
        // If no one is logged in, kick them out
        window.location.href = 'login.html';
      }
      
      const date = new Date();
      document.getElementById('dateDisplay').innerText = date.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
    });

    // 2. LOGOUT LOGIC
    function handleLogout() {
      // DESTROY SESSION
      localStorage.removeItem('pixellActiveUser');
      // Redirect to home
      window.location.href = 'index.html';
    }

    // 3. Transfer Slider
    function updateAmount(val) {
      document.getElementById('amountValue').innerText = "$" + parseInt(val).toLocaleString();
    }

    // 4. Cursor
    const cursorDot = document.querySelector('[data-cursor-dot]');
    const cursorOutline = document.querySelector('[data-cursor-outline]');

    window.addEventListener('mousemove', function(e) {
      const posX = e.clientX; const posY = e.clientY;
      cursorDot.style.left = `${posX}px`; cursorDot.style.top = `${posY}px`;
      cursorOutline.animate({ left: `${posX}px`, top: `${posY}px` }, { duration: 500, fill: "forwards" });
    });

    document.querySelectorAll('.hover-trigger').forEach(el => {
      el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
      el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
    });
  </script>
</body>
</html>